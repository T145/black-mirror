<div align="center">
  <img src=".github/images/logo.png"
       width="600"
       alt="logo"
       longdesc="https://github.com/T145/black-mirror/master/README.md" />
  <h3>🌓 Reflection | 💿 Redundancy | ✅ Reliability</h3>
  <hr>
  <p>Aiming to promote privacy, security, and safety across the internet!</p>
  <hr>
  <a href="https://github.com/humanetech-community/awesome-humane-tech#awesome-humane-tech--">
    <img src="https://raw.githubusercontent.com/humanetech-community/awesome-humane-tech/main/humane-tech-badge.svg?sanitize=true"
        alt="humane-tech"
        longdesc="https://raw.githubusercontent.com/humanetech-community/awesome-humane-tech/main/humane-tech-badge.svg"
        crossorigin="anonymous"
        referrerpolicy="no-referrer" />
  </a>
  <a href="https://github.com/T145/black-mirror/commits/master.atom">
    <img src="https://img.shields.io/static/v1?logo=rss&label=RSS&message=feed&color=FFA500"
        alt="release"
        longdesc="https://github.com/badges/shields/"
        crossorigin="anonymous"
        referrerpolicy="no-referrer" />
  </a>
  <a href="https://bestpractices.coreinfrastructure.org/projects/6372">
    <img src="https://bestpractices.coreinfrastructure.org/projects/6372/badge">
  </a>
</div>
<div align="center">
  <a href="https://github.com/T145/black-mirror">
    <img src="https://img.shields.io/github/repo-size/T145/black-mirror?logo=adblock&style=flat&label=Repo%20Size"
        alt="repo-size"
        longdesc="https://shields.io/"
        crossorigin="anonymous"
        referrerpolicy="no-referrer" />
  </a>
  <a href="https://github.com/T145/black-mirror">
    <img src="https://img.shields.io/github/commit-activity/w/T145/black-mirror?logo=adblock&style=flat&label=Commit%20Activity"
        alt="commit-activity"
        longdesc="https://shields.io/"
        crossorigin="anonymous"
        referrerpolicy="no-referrer" />
  </a>
  <a href="https://hits.seeyoufarm.com/#history">
    <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2FT145%2Fblack-mirror&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=Traffic+%28Daily%2FTotal%29&edge_flat=false"
        alt="traffic"
        longdesc="https://hits.seeyoufarm.com"
        crossorigin="anonymous"
        referrerpolicy="no-referrer" />
  </a>
</div>
<div align="center">
  <img src="https://img.shields.io/github/actions/workflow/status/T145/black-mirror/publish_lists.yml?branch=master&label=Release&logo=github"
       alt="release"
       longdesc="https://github.com/badges/shields/"
       crossorigin="anonymous"
       referrerpolicy="no-referrer" />
  <a href="https://www.dropbox.com/sh/lg4i0sjexubhcz6/AABO35HOVeK7Z0VHXN9MTp_ya?dl=0">
    <img src="https://img.shields.io/static/v1?logo=dropbox&label=Dropbox&message=builds&color=0061FF"
        alt="release"
        longdesc="https://github.com/badges/shields/"
        crossorigin="anonymous"
        referrerpolicy="no-referrer" />
  </a>
  <a href="https://github.com/T145/black-mirror/pkgs/container/black-mirror">
    <img src="https://img.shields.io/github/actions/workflow/status/T145/black-mirror/publish_docker.yml?branch=master&color=%232496ED&label=Docker&logo=docker"
        alt="docker"
        longdesc="https://github.com/badges/shields/"
        crossorigin="anonymous"
        referrerpolicy="no-referrer" />
  </a>
</div>

<div align="center">
  <sub>
    <em>Made with 💖 by</em>
  </sub>
</div>

<div align="center">
  <a href="https://github.com/T145" target="_blank">
    <img width=200px height=75px src="https://glitch-image.vercel.app/api?text=T145" />
  </a>
</div>

## 🚚 Deliverables

> The whitelists are applied to all the blacklists!

<table>
  <thead>
    <tr>
      <th>List Name</th>
      <th>File Content</th>
      <th>Unique Entries</th>
      <th>File Size</th>
      <th>Mirror</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>BLOCK_DOMAIN</td>
      <td>Punycode domains</td>
      <td id="BLOCK-DOMAIN-line-count">8,679,205</td>
      <td id="BLOCK-DOMAIN-file-size">184M</td>
      <td align="center"><a href="https://github.com/T145/black-mirror/releases/download/latest/BLOCK_DOMAIN.txt">🔗</a></td>
    </tr>
    <tr>
      <td>BLOCK_IPV4</td>
      <td>IPv4 addresses</td>
      <td id="BLOCK-IPV4-line-count">527,635</td>
      <td id="BLOCK-IPV4-file-size">7.3M</td>
      <td align="center"><a href="https://github.com/T145/black-mirror/releases/download/latest/BLOCK_IPV4.txt">🔗</a></td>
    </tr>
    <tr>
      <td>BLOCK_IPV6</td>
      <td>IPv6 addresses</td>
      <td id="BLOCK-IPV6-line-count">4,794</td>
      <td id="BLOCK-IPV6-file-size">173K</td>
      <td align="center"><a href="https://github.com/T145/black-mirror/releases/download/latest/BLOCK_IPV6.txt">🔗</a></td>
    </tr>
    <tr>
      <td>BLOCK_CIDR4</td>
      <td>IPv4 CIDR blocks</td>
      <td id="BLOCK-CIDR4-line-count">8,494</td>
      <td id="BLOCK-CIDR4-file-size">138K</td>
      <td align="center"><a href="https://github.com/T145/black-mirror/releases/download/latest/BLOCK_CIDR4.txt">🔗</a></td>
    </tr>
    <tr>
      <td>BLOCK_CIDR6</td>
      <td>IPv6 CIDR blocks</td>
      <td id="BLOCK-CIDR6-line-count">206</td>
      <td id="BLOCK-CIDR6-file-size">3.4K</td>
      <td align="center"><a href="https://github.com/T145/black-mirror/releases/download/latest/BLOCK_CIDR6.txt">🔗</a></td>
    </tr>
    <tr>
      <td>ALLOW_DOMAIN</td>
      <td>Punycode domains</td>
      <td id="ALLOW-DOMAIN-line-count">841,135</td>
      <td id="ALLOW-DOMAIN-file-size">16M</td>
      <td align="center"><a href="https://github.com/T145/black-mirror/releases/download/latest/ALLOW_DOMAIN.txt">🔗</a></td>
    </tr>
    <tr>
      <td>ALLOW_IPV4</td>
      <td>IPv4 addresses</td>
      <td id="ALLOW-IPV4-line-count">76,837</td>
      <td id="ALLOW-IPV4-file-size">1.1M</td>
      <td align="center"><a href="https://github.com/T145/black-mirror/releases/download/latest/ALLOW_IPV4.txt">🔗</a></td>
    </tr>
    <tr>
      <td>ALLOW_IPV6</td>
      <td>IPv6 addresses</td>
      <td id="ALLOW-IPV6-line-count">2,921</td>
      <td id="ALLOW-IPV6-file-size">111K</td>
      <td align="center"><a href="https://github.com/T145/black-mirror/releases/download/latest/ALLOW_IPV6.txt">🔗</a></td>
    </tr>
    <tr>
      <td>ALLOW_CIDR4</td>
      <td>IPv4 CIDR blocks</td>
      <td id="ALLOW-CIDR4-line-count">7,444</td>
      <td id="ALLOW-CIDR4-file-size">115K</td>
      <td align="center"><a href="https://github.com/T145/black-mirror/releases/download/latest/ALLOW_CIDR4.txt">🔗</a></td>
    </tr>
    <tr>
      <td>ALLOW_CIDR6</td>
      <td>IPv6 CIDR blocks</td>
      <td id="ALLOW-CIDR6-line-count">153,522</td>
      <td id="ALLOW-CIDR6-file-size">2.5M</td>
      <td align="center"><a href="https://github.com/T145/black-mirror/releases/download/latest/ALLOW_CIDR6.txt">🔗</a></td>
    </tr>
  </tbody>
</table>

### Source Code

- [Tarball](https://api.github.com/repos/T145/black-mirror/tarball/latest)
- [Zipball](https://api.github.com/repos/T145/black-mirror/zipball/latest)

## 🧮 Checksum Evaluation

```bash
sha256sum CHECKSUMS.txt --strict
```

The output will print `OK` if the check was successful. Be sure to run the command in the same directory as the lists!

## 🐙 Fetching GitHub Releases

Provided below are some examples to fetch release artifacts leveraging the GitHub API.

### Get all build artifacts

```bash
curl --proto '=https' --tlsv1.3 -H 'Accept: application/vnd.github.v3+json' -sSf https://api.github.com/repos/T145/black-mirror/releases/latest | jq -r '.assets[].browser_download_url'
```

### Get a build artifact & its checksum

```bash
curl --proto '=https' --tlsv1.3 -H 'Accept: application/vnd.github.v3+json' -sSf https://api.github.com/repos/T145/black-mirror/releases/latest | jq -r '.assets[] | select(.name | startswith("BLOCK_DOMAIN")).browser_download_url'
```

### Get a single build artifact

```bash
curl --proto '=https' --tlsv1.3 -H 'Accept: application/vnd.github.v3+json' -sSf https://api.github.com/repos/T145/black-mirror/releases/latest | jq -r '.assets[] | select(.name | startswith("BLOCK_DOMAIN")) | select(.name | endswith(".txt")).browser_download_url'
```

## 🖋️ Manifesto

> Please report any hosts or lists that do not align in an issue.

`Black Mirror` stands on three pillars: **privacy**, **security**, and **safety**.

- **Privacy**:
  - Whitelist services like trusted torrenting providers, VPNs, and Tor.
  - Blacklist deanonymized telemetry, data brokers, ad redirects, and stalkerware.
- **Security**:
  - Whitelist services that promote security AND privacy.
  - Blacklist illegal or sketchy sites and known malicious actors.
  - Blacklist advertising to avoid the risks of malvertising.
- **Safety**:
  - Blacklist deliberate misinformation, irreputable news sources, propaganda, etc.
  - Blacklist vices such as vaping and smoking that cause individual harm.
  - Use [GitHub's non-allowance policies](https://docs.github.com/en/github/site-policy/github-community-guidelines#what-is-not-allowed) at-scale where possible.
  - [Acknowledge technological harm, and do what can be done in this project to prevent it.](https://ledger.humanetech.com/)

While `Black Mirror` censors content beyond privacy and security, it does not seek to do so irresponsibly.
Many other popular blacklists say they block specific hosts for certain reasoning, and when combed through turn out to have many false positives, or blocks that fall outside that reasoning. `Black Mirror` aims to be different by being as transparent as possible. It's open to critique, and encourages community feedback and involvement.
The real power behind the freedom of speech is the ability to hear many opinions to quickly deduce those that are correct or reasonable.

“Before you become too entranced with gorgeous gadgets and mesmerizing video displays, let me remind you that information is not knowledge, knowledge is not wisdom, and wisdom is not foresight. Each grows out of the other, and we need them all.”\
― *Arthur C. Clarke*

## Table of contents

- [Black Mirror](#black-mirror)
  - [On Spyware/Stalkerware](#on-spywarestalkerware)
  - [On Propaganda](#on-propaganda)
  - [On Social Media](#on-social-media)

## On Spyware/Stalkerware

<p align="center">
<a href="https://www.youtube.com/watch?v=I5WjTTi67BE"><img src="https://res.cloudinary.com/marcomontalbano/image/upload/v1633709643/video_to_markdown/images/youtube--I5WjTTi67BE-c05b58ac6eb4c4700831b2b3070cd403.jpg"
       alt="GitHub Top Languages"
       longdesc="https://raw.githubusercontent.com/anuraghazra/github-readme-stats/master/readme.md"
       crossorigin="anonymous"
       referrerpolicy="no-referrer"
       width="500" /></a>
<a href="https://www.ted.com/talks/eva_galperin_what_you_need_to_know_about_stalkerware/transcript?language=en&utm_campaign=black_mirror&utm_medium=referral&utm_source=github_com_T145/black-mirror"><img src="https://pi.tedcdn.com/r/s3.amazonaws.com/talkstar-photos/uploads/43595f89-1962-4904-8034-ee2d26971f7b/EvaGalperin_2019W-embed.jpg?op=%5E&c=1280%2C720&gravity=t&u%5Br%5D=2&u%5Bs%5D=0.5&u%5Ba%5D=0.8&u%5Bt%5D=0.03&quality=82&w=1280&h=720"
       alt="GitHub Top Languages"
       longdesc="https://raw.githubusercontent.com/anuraghazra/github-readme-stats/master/readme.md"
       crossorigin="anonymous"
       referrerpolicy="no-referrer"
       width="500" /></a>
</p>

These services intrude on privacy, are usually malware, and compromise individual safety. Therefore any known parties are blocked.

“There will come a time when it isn't 'They're spying on me through my phone' anymore. Eventually, it will be 'My phone is spying on me'.”\
― *Philip K. Dick*

## On Propaganda

<p align="center">
<a href="https://www.ted.com/talks/andrew_marantz_inside_the_bizarre_world_of_internet_trolls_and_propagandists/transcript?language=en&utm_campaign=black_mirror&utm_medium=referral&utm_source=github_com_T145/black-mirror"><img src="https://pi.tedcdn.com/r/s3.amazonaws.com/talkstar-photos/uploads/db5bcc6b-ea54-4c76-a43a-1d0a5b5e5adc/AndrewMarantz_2019-embed.jpg?op=%5E&c=1280%2C720&gravity=t&u%5Br%5D=2&u%5Bs%5D=0.5&u%5Ba%5D=0.8&u%5Bt%5D=0.03&quality=82&w=1280&h=720"
       alt="GitHub Top Languages"
       longdesc="https://raw.githubusercontent.com/anuraghazra/github-readme-stats/master/readme.md"
       crossorigin="anonymous"
       referrerpolicy="no-referrer"
       width="500" /></a>
</p>

If it promotes any "knee-jerk contrarian" viewpoints, a website will only be blocked if they are a majority (>50%) of its content.
As an example, because we have conclusive evidence on the fact that the Earth is round
from the time of Eratosthenes, sites that feature contradictory viewpoints as an opinion majority get blocked.

“True liberty consists only in the power of doing what we ought to will, and in not being constrained to do what we ought not to will.”\
― *Jonathan Edwards*

“Make decency cool again.”\
― *Andrew Marantz*

## On Social Media

### The Zuckerburg Institute of Virology

#### Facebook/Meta

Due to consistent privacy and security concerns, this platform will be blocked.

##### References

- [The Facebook Files](https://www.wsj.com/articles/the-facebook-files-11631713039)

#### Instagram

Owned by Facebook, but does not have majority support on issues that would get the site blocked. Its trackers and such will be blocked.

#### WhatsApp

Owned and heavily monitored by Facebook. Communications may be secure between users, but are monitored by Facebook.
It also has a track record of significant security concerns. All services will be blocked.

##### References

- [NIST Vulnerabilities](https://nvd.nist.gov/vuln/search/results?form_type=Advanced&results_type=overview&query=whatsapp&search_type=all&isCpeNameSearch=true&cvss_version=3)

### Twitter

Though the cause of most internet drama, this platform is also where many cybersecurity community members communicate and collaborate.
While it has compromised privacy and serves personalized ads, the platform itself will remain unblocked to promote cybersecurity communities.
Its trackers and such will be blocked.

### Reddit

While there are harmful subreddits, they are not in the majority. Many have actually been banned, so this will remain unblocked.
Its trackers and such will be blocked.

### Snapchat

Largely supports privacy, even though there are some security concerns. It will remain unblocked.

#### References

- [Data Breach Timeline](https://firewalltimes.com/snapchat-data-breach-timeline)

### Tumblr

Blocked due to being largely marginalized with the potential of any subdomain to breach any pillar.

### TikTok

Blocked due to countless privacy concerns, regardless of its Chinese affiliations.

#### References

- [Times: TikTok Privacy Concerns](https://time.com/6265651/tiktok-security-us/)
- [Forbes: American Surveilance (Referenced by the above article)](https://www.forbes.com/sites/emilybaker-white/2022/10/20/tiktok-bytedance-surveillance-american-user-data/?sh=218b4cc36c2d)
- [Forbes: Spying on Forbes Journalists](https://www.forbes.com/sites/emilybaker-white/2022/12/22/tiktok-tracks-forbes-journalists-bytedance/?sh=645bc0227da5)

## 📋 Attributes

1. Produced in builds specific to each host's syntax.
2. Updates at [1:27 AM UTC](https://www.timeanddate.com/time/zone/timezone/utc).
3. No excess or trailing whitespace.
4. No lingering webscraper garbage.
5. Lines are terminated with `lf`.
6. No blank lines.
7. No comments.

## 🛠️ List Usage

### Hosts File

```bash
mawk '{print "0.0.0.0 " $0}' BLOCK_DOMAIN.txt >>hosts
# mawk '{print ":: " $0}' BLOCK_DOMAIN.txt >>hosts
mawk '{print "0.0.0.0 " $0}' BLOCK_IPV4.txt >>hosts
mawk '{print ":: " $0}' BLOCK_IPV6.txt >>hosts
```

### [Dnsmasq](https://dnsmasq.org/)

Many popular platforms such as OpenWRT, DDWRT, and Pi-hole use Dnsmasq as their choice TCP powerhouse. After inspecting many domain blocklists you'll inevitably run across a list in the `dnsmasq.conf` format. This list doesn't support it because you can use the `addn-hosts` parameter to add hosts in the list.
Target a file that has the hosts in a format similar to the __Hosts File__ format.

If you're using the `RADVD` daemon, prepend any listed hosts with [`::`](https://stackoverflow.com/questions/40189084/what-is-for-localhost-and-0-0-0-0). Otherwise, even if you have IPv6 support set up, prepend hosts with [`0.0.0.0`](https://github.com/StevenBlack/hosts#we-recommend-using-0000-instead-of-127001).

This has been tested across all the mentioned platforms using `dig{6}` on a small sample size and had each host null-routed successfully. [DNSmasq's man page](https://thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html) discusses configuration further, and [DDWRT's ad blocking wiki page](https://wiki.dd-wrt.com/wiki/index.php/Ad_blocking) provides some examples.

#### Amazon EC2 DNS Resolver

Follow [this guide](https://aws.amazon.com/premiumsupport/knowledge-center/dns-resolution-failures-ec2-linux/) to create a DNS server on an Amazon EC2 instance.

### [Pi-hole](https://pi-hole.net/) / [personalDNSfilter](https://github.com/IngoZenz/personaldnsfilter)

Domain list usage is recommended.

### [Unbound](https://nlnetlabs.nl/projects/unbound/about/)

Similar to dnsmasq, but requires more manual configuration. Name any products as a \*.conf file. [Then follow Steffinstanly's instructions on how to apply blocklists](https://medium.com/@steffinstanly/unbound-dns-blocking-3567986a5735).

### [AdGuard](https://adguard.com/en/welcome.html)

Leverage the [`ADGUARD_SOURCES.txt`](https://github.com/T145/black-mirror/blob/master/dist/ADGUARD_SOURCES.txt) list or the domain list.

## 🐋 Docker Usage

### Temporary Container

```bash
docker container run -u 0 -it --rm -h black-mirror ghcr.io/t145/black-mirror
```

### Persistant Container

```bash
docker container run -u 0 -it --name black-mirror -h black-mirror ghcr.io/t145/black-mirror
```

Then to access the container at a later date, run:

```bash
docker start black-mirror
docker exec -u 0 -it black-mirror /bin/bash
```

### Building the Image

```bash
docker build --no-cache --progress=plain -t black-mirror .
```

## 👨‍💻 Development

### Workspace Setup

Install Docker, [PNPM](https://pnpm.io/installation), and NodeJS. These can usually be installed with a popular package manager.
The specific Node version used in this project is provided in `.node-version`, but any version over `16` should work.
With Docker running in the background, execute `pnpm lint` to debug any changes.

## 🛡️ Privacy Protectors

> Good causes that help secure your digital life.

- *__[Stop using Cloudflare!](https://framagit.org/dCF/deCloudflare/-/tree/master)__*
- Keep up with [Chinese activity](https://www.chinasentry.com/congressional)!
- Use a [pcWRT](https://shop.pcwrt.com/) to easily secure your internet!
- Test your browser's tracking resilience with [CoverYourTracks](https://coveryourtracks.eff.org/)!
- Support [LetsBlockIt](https://letsblock.it/) to consolidate and simplify uBlock filters!
- Explore [PrivacyGuides](https://privacyguides.org/) and [Prism Break](https://prism-break.org/en/all/) to discover services that respect your privacy!
- Use [BypassPaywalls](https://github.com/iamadamdev/bypass-paywalls-chrome#readme) to access restricted and useful information, such as the [WSJ's Facebook Files](https://www.wsj.com/articles/the-facebook-files-11631713039).
- Skip over URL shortener links by using [FastForward](https://github.com/FastForwardTeam/FastForward#readme), which is a better alternative to outright domain blocking.

## 🎶 Notes

### Need for speed

- <https://fossies.org/linux/parallel/src/parsort>
- <https://unix.stackexchange.com/questions/579251/how-to-use-parallel-to-speed-up-sort-for-big-files-fitting-in-ram#579252>
- <https://askubuntu.com/questions/1006377/check-the-max-allowed-threads-count-for-sure#1006384>
- <https://stackoverflow.com/questions/9066609/fastest-possible-grep>

### Some List References

- <https://www.covert.io/threat-intelligence/>
- <https://filterlists.com/>
- <https://firebog.net/>
- <https://grimore.org/assets/databases/blocklist-ipsets>

### Lamers Unwelcome

- [cybercrime-tracker](https://atm.cybercrime-tracker.net/index.php)
  - [EMV](https://emv.cybercrime-tracker.net/index.php?x=faq)
- [MalwareBazaar](https://bazaar.abuse.ch/browse/)
- [virusbay](https://beta.virusbay.io/sample/browse)
- [malpedia](https://malpedia.caad.fkie.fraunhofer.de/)
- [manalyzer](https://manalyzer.org/)
- [malshare](https://malshare.com/daily/malshare.current.all.txt)
- [Metasploit CVEs](https://feeds.ecrimelabs.net/data/metasploit-cve)
- [malarchive](https://github.com/raw-data/malarchive)

### Big Data Lists

> Typically used by other blacklist projects as whitelists.

| List Name    | URL                                                                                               |
|--------------|---------------------------------------------------------------------------------------------------|
| Alexa        | <https://s3.amazonaws.com/alexa-static/top-1m.csv.zip>                                            |
| Umbrella     | <https://downloads.majestic.com/majestic_million.csv>                                             |
| Statvoo      | <https://statvoo.com/dl/top-1million-sites.csv.zip>                                               |
| OpenPageRank | <https://www.domcop.com/files/top/top10milliondomains.csv.zip>                                    |
| Quantcast    | <https://toplists.net.in.tum.de/archive/quantcast/quantcast-top-sites-2021-06-25_0900_UTC.txt.xz> |
| Tranco list  | <https://tranco-list.eu/>                                                                         |

### IP Block Providers

> Simply provide IP blocks for entire geographic regions.

- [openportstats](http://www.openportstats.com/)
- [ipdeny](https://www.ipdeny.com/ipblocks/)
- [IPverse](http://ipverse.net/)
- [IP2Location](https://lite.ip2location.com/ip2location-lite)
- [Okean China CIDRs](https://www.okean.com/thegoods.html)
