# Project Contribution

## Source recommendations

### Do you have a source you'd like to add?
Join the discussion around sources under the "Discussions" tab!
Issues should be restricted for more critical subjects about how the core program works.

### Have you found a redundant source?
A redundant source would be any source that has its own entry in `data/v1/sources.json` and is mostly or fully included in another list.
Obviously one or the other should be removed, so please make an issue detailing the conflicting sources.

### Have you found a deprecated source?
Please make an issue featuring the source.

### Do you have a host or some hosts to whitelist or blacklist?
Join the corresponding discussion and post 'em!

### Have you found a bug in the main program?
Please make an issue detailing the issue as thoroughly as possible.

## Manually adding a source

Black Mirror works by taking blacklist or whitelist listings from `data/v1/sources.json`.
Each listing has the following fields:

* **color**: Designates whether this source is applied to a blacklist or whitelist.
  * Strictly `black` or `white`.
* **filters**: Object array where each element object, or filter, strictly has the following fields:
  * **engine**: Designates which program will be used to process the source.
    * Strictly [a valid engine](https://github.com/T145/black-mirror/blob/master/scripts/v1/build_release.bash#L42).
  * **format**: Designates which list to place the generated output into.
    * Strictly `domain`, `ipv4`, or `ipv6`.
  * **rule**: Parameters passed to the engine that set how to process the source.
    * Note that this *very* dependent on the designated engine!
    * Be sure the rule is properly escaped.
* **mirrors**: String array where each element is a URL where the source text lives.
  * Multiple mirrors can be designated to speed up downloads.
  * Note that mirrors must have the same content!

Now go make a Pull Request with a new entry in `data/v1/sources.json`!
Don't worry about the other "sources" files or where to place the entry:
the extra "sources" files are autogenerated, and `data/v1/sources.json` gets sorted alphabetically.

### Adding an Adblock source

Reference [this page](https://github.com/gorhill/uBlock/wiki/Static-filter-syntax#static-network-filtering) for uBlock on how domains are filtered. Be sure the defined rule is able to extract the domains from similar entries.
